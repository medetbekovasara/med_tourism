{% extends "base.html" %}

{% block title %}Редактирование профиля{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center mt-5">
        <div class="col-md-6">
            <div class="card shadow-lg p-4">
                <h2 class="text-center">Редактирование профиля</h2>

                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}

                    <h4>Основные данные</h4>
                    <div class="mb-3">
                        <label class="form-label">Имя пользователя</label>
                        {{ user_form.username }}
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        {{ user_form.email }}
                    </div>

                    <h4 class="mt-3">Дополнительные данные</h4>
                    <div class="mb-3">
                        <label class="form-label">Телефон</label>
                        {{ profile_form.phone }}
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Страна</label>
                        {{ profile_form.country }}
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Гражданство</label>
                        {{ profile_form.nationality }}
                    </div>
                    <div class="mb-3">
                        <label class="form-label">ID паспорта</label>
                        {{ profile_form.passport_id }}
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Дата рождения</label>
                        {{ profile_form.birth_date }}
                    </div>

                    <h4 class="mt-3">Фото профиля</h4>
                    <div class="mb-3 text-center">
                        {% if profile_form.instance.avatar %}
                            <img src="{{ profile_form.instance.avatar.url }}" class="rounded-circle" width="100">
                        {% else %}
                            <img src="/media/avatars/default.jpg" class="rounded-circle" width="100">
                        {% endif %}
                        <p class="mt-2">Выберите новое изображение:</p>
                        {{ profile_form.avatar }}
                    </div>

                    <button type="submit" class="btn btn-primary w-100 mt-3">Сохранить изменения</button>
                </form>

                <div class="text-center mt-3">
                    <a href="{% url 'user_profile' %}" class="btn btn-secondary">Назад в профиль</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
